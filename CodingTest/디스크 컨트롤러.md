```
import java.util.*;
class Solution {
    public int solution(int[][] jobs) {
        PriorityQueue<Job> pq = new PriorityQueue<>((a,b) -> {
            if(a.end == b.end){
                if(a.start == b.start){
                    return a.no - b.no;
                }
                return a.start - b.start;
            }
            return a.end - b.end;
        });
        
        Job[] arr = new Job[jobs.length];
        
        for(int i=0; i<jobs.length; i++){
            arr[i] = new Job(i, jobs[i][0], jobs[i][1]);
        }
        
        Arrays.sort(arr, (a,b) -> a.start - b.start);
        
        int sum = 0;
        int now = 0;
        int idx = 0;
        
        while(true){
            while(idx < arr.length && arr[idx].start <= now){
                pq.add(arr[idx]);
                idx++;
            }
            
            if (!pq.isEmpty()) {
                Job job = pq.poll();

                now = Math.max(now, job.start) + job.end;
                sum += now - job.start;
            }else{
                now = arr[idx].start;
            }
            
            if(idx >= arr.length && pq.isEmpty()) break;
        }
        
        return sum / arr.length;
    }
    
    class Job{
        int no;
        int start;
        int end;
        
        public Job(int no, int start, int end){
            this.no = no;
            this.start = start;
            this.end = end;
        }
    }
}
```
