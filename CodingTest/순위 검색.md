```
import java.util.*;
class Solution {
    HashMap<String, List<Integer>> map = new HashMap<>();
    public int[] solution(String[] info, String[] query) {
        int[] dap = new int[query.length];
        
        find(info);
        
        for(List<Integer> list : map.values()){
            Collections.sort(list);
        }
        
        for(int i=0; i<query.length; i++){
            String[] split = query[i].split(" and ");
            
            String[] last = split[split.length-1].split(" ");
            
            String s = "";
            for(int j=0; j<split.length-1; j++){
                s += split[j];
            }
            
            s += last[0];
            
            if(!map.containsKey(s)){
                dap[i] = 0;
                continue;
            }
            
            dap[i] = map.get(s).size() - binarySearch(map.get(s), Integer.parseInt(last[1]));
        }
        
        return dap;
    }
    
    public int binarySearch(List<Integer> list, int score){
        int start = 0;
        int end = list.size();
        
        while(start < end){
            int mid = (start + end) / 2;
            
            if(list.get(mid) < score){
                start = mid + 1;
            }else{
                end = mid;
            }
        }
        
        return start;
    }
    
    public void find(String[] info){
        for(String s : info){
            String[] split = s.split(" ");
            
            back(split, "", 0);
        }
    }
    
    public void back(String[] split, String s, int depth){
        if(depth == split.length -1){
            map.putIfAbsent(s, new ArrayList<>());
            map.get(s).add(Integer.parseInt(split[split.length-1]));
            return;
        }
        
        for(int i=0; i<2; i++){
            if(i == 0) back(split, s + split[depth], depth + 1);
            else back(split, s + "-", depth + 1);
        }
    }
}
```
