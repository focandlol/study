```
import java.util.*;
class Solution {
    int idx = 0;
    public int[][] solution(int[][] nodeinfo) {
        Node[] nodes = new Node[nodeinfo.length];
        
        for(int i=0; i<nodeinfo.length; i++){
            nodes[i] = new Node(i+1,nodeinfo[i][0], nodeinfo[i][1], null, null);
        }
        
        Arrays.sort(nodes, (a,b) -> b.y - a.y);
        
        Node root = nodes[0];
        
        for(int i=1; i<nodes.length; i++){
            find(root, nodes[i]);
        }
        
        int[][] dap = new int[2][nodeinfo.length];
        
        pre(root, dap);
        idx = 0;
        post(root, dap);
        
        return dap;
    }
    
    void pre(Node root, int[][] arr){
        if(root == null) return;
        
        arr[0][idx++] = root.num;
        pre(root.left, arr);
        pre(root.right, arr);
    }
    
    void post(Node root, int[][] arr){
        if(root == null) return;
        
        post(root.left, arr);
        post(root.right, arr);
        arr[1][idx++] = root.num;
    }
    
    void find(Node parent, Node node){
        if(parent.x < node.x){
            if(parent.right == null){
                parent.right = node;
            }else{
                find(parent.right, node);
            }
        }else{
            if(parent.left == null){
                parent.left = node;
            }else{
                find(parent.left, node);
            }
        }
    }
    
    class Node{
        int num;
        int x;
        int y;
        Node left;
        Node right;
        
        public Node(int num, int x, int y, Node left, Node rignt){
            this.num = num;
            this.x = x;
            this.y = y;
            this.left = left;
            this.right = right;
        }
    }
}

```
