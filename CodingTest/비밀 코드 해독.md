```
import java.util.*;
class Solution {
    int dap = 0;
    public int solution(int n, int[][] q, int[] ans) {
        back(n,q,ans,0,1, new HashSet<Integer>());
        return dap;
    }
    
    void back(int n, int[][] q, int[] ans, int depth, int start, Set<Integer> set){
        if(depth == 5){
            if(check(q,ans,set)) dap++;
            return;
        }
        for(int i=start; i<=n; i++){
            set.add(i);
            back(n,q,ans,depth+1,i+1,set);
            set.remove(i);
        }
    }
    
    boolean check(int[][] q, int[] ans, Set<Integer> set){
        for(int i=0; i<q.length; i++){
            int count = 0;
            for(int j=0; j<q[0].length; j++){
                if(set.contains(q[i][j])) count++;
                if(count > ans[i]) return false;   
            
            }
            if(count != ans[i]) return false;
        }
        return true;
    }
}
```
